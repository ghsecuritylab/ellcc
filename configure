#!/bin/sh
# toplevel ELLCC distribution configure

# Get the staging directory.
prefix=`pwd`

# Get the supported targets.
targets=`cat targets`
targetlist=`echo $targets | sed -e "s/ /,/g"`

# To build for the x86 with libecc:
#cc=$bin/i386-elf-ecc
#cxx=$bin/i386-elf-e++

# To build with the hosted ecc and host libraries:
#cc=$bin/ecc
#cxx=$bin/e++

# To build with the host compiler:
cc=gcc
cxx=g++

# Get the bin directory/
bin=`cd bin; pwd`

# Configure for an LLVM+Clang build.
mkdir -p llvm-build
cd llvm-build
../llvm/configure --prefix=$prefix --enable-optimized || exit 1
cd ..

# Configure for GNU tools.
cd gnu
./configure
cd ..
