<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>






  
  
  
  
  
  
  <meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">






  
  
  
  
  
  
  
  
  
  
  
  
  <title>Setting Up Target Support</title>
  <meta content="Richard Pennington" name="author">
</head>


<body>






<table style="text-align: left; width: 100%; height: 100%;" border="0" cellpadding="0" cellspacing="0">






  <tbody>






    <tr align="center">






      <th style="text-align: center; vertical-align: middle; background-color: rgb(192, 192, 192); height: 135px;" colspan="2" rowspan="1">
      
      
      
      
      
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="0" cellspacing="0">






        <tbody>






          <tr>






            <td style="height: 135px; width: 135px;"><img style="width: 135px; height: 135px;" alt="ELLCC" src="images/ellcc.png"></td>






            <td style="text-align: center;">
            
            
            
            
            
            
            <h1><a class="mozTocH1" name="mozTocId679816"></a>Setting Up Target Support</h1>






            </td>






          </tr>






        
        
        
        
        
        
        </tbody>
      
      
      
      
      
      
      </table>






      </th>






    </tr>






    <tr>






      <td style="vertical-align: top; background-color: rgb(153, 255, 153); width: 135px;"><a href="index.html">Home</a><br>






      <a href="news.html">News</a><br>






      <a href="ellcc/libecc/share/doc">Documentation</a><br>





      <a href="installation.html">Installation</a><br>
      <a href="targetsupport.html">Target Support</a><br>






      <a href="wiki">Wiki</a><br>






      <a href="bugzilla">Bug Database</a><br>






      <a href="svn/ellcc">Source Repository</a><br>






      <a href="mailto:rich@pennware.com">Contact</a><br>






      </td>






      <td style="vertical-align: top;">
      
      
      
      <ol id="mozToc">



      </ol>
Setting up target support means building the appropriate libraries to support cross compilation
of programs using ELLCC. You should have completed the ELLCC <a href="installation.html">Installation</a> steps before you try to setup target support as the <span style="font-family: monospace;">ecc</span> compiler is required at this point.<br>
      <h2><a class="mozTocH2" name="mozTocId834743"></a>Building the Runtime Libraries</h2>



The ELLCC C runtime library, <span style="font-family: monospace;">libecc</span>, is based on source code from several sources. The C standard library is based on <a href="http://sourceware.org/newlib/">newlib</a>. Software floating point support for processors that need it is based of the <a href="http://gcc.gnu.org/wiki/Software_floating_point">soft-fp</a> component of &nbsp;<a href="http://www.gnu.org/software/libc/">glibc</a>. Support for operations, such as 64 bit additions, that a target does not support directly are provided by <a href="http://compiler-rt.llvm.org/">compiler-rt</a>. Get the source code for compiler-rt in the top level build directory and make a new directory to build it in:<br>



      <br>



      
      
      
      <div style="margin-left: 40px;"><code>[~/ecc] main% svn co http://llvm.org/svn/llvm-project/compiler-rt/trunk compiler-rt<br>



[~/ecc] main% mkdir ellcc-build</code></div>



      <code></code><br>



Now build the libraries:<br>



      <br>



      
      
      
      <div style="margin-left: 40px;"><code>[~/ecc] main% cd ellcc-build/</code><br>



      <code>[~/ecc/ellcc-build] main% cmake ../ellcc<br>



[~/ecc/ellcc-build] main% make<br>



      </code></div>



      <br>


NOTE: At this time this does not work out of the box. I run with a stripped down version of compiler-rt. Fixes soon.<br>
      <br>
      <div style="margin-left: 40px;"><span style="font-family: monospace;"></span><br>

      <span style="font-family: monospace;"></span></div>

      <span style="font-family: monospace;"><br>

      </span>

      <code></code><code></code><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></td>



    </tr>



  
  
  
  </tbody>
</table>



<br>






</body>
</html>
